(this.webpackJsonpnordicprediction=this.webpackJsonpnordicprediction||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),c=n.n(i),o=n(75),u=(n(87),n(88),n(89),n(90),n(91),n(31)),l=n(32),s=n(35),m=n(33),f=n(36),d=n(24),p=n(70),h=n.n(p),g=n(42),v=n(127),b=n(126),E=n(73),y=n(39),x=r.a.createContext(),j=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.companies.filter((function(e){return e.get("estimate")})).sortBy((function(e){return-e.get("estimate")})).filter((function(e,t){return t<20}));return[r.a.createElement(b.a,{numRows:t.size,bodyContextMenuRenderer:function(n){return e.openLink(t.get(n.target.cols[0]))}},r.a.createElement(E.a,{name:"Name",cellRenderer:function(e,n){return r.a.createElement(y.a,null,t.getIn([e,"Name"]))}}),r.a.createElement(E.a,{name:"Estimate",cellRenderer:function(e,n){return r.a.createElement(y.a,null,(100*t.getIn([e,"estimate"])).toFixed(2)+"%")}}),r.a.createElement(E.a,{name:"Yield",cellRenderer:function(e,n){return r.a.createElement(y.a,null,(100*t.getIn([e,"yield"])).toFixed(1)+"%")}}),r.a.createElement(E.a,{name:"P/E",cellRenderer:function(e,n){return r.a.createElement(y.a,null,t.getIn([e,"pe"]).toFixed(2))}}),r.a.createElement(E.a,{name:"Avg Dividend Ratio",cellRenderer:function(e,n){return r.a.createElement(y.a,null,(100*t.getIn([e,"avgDividendRatio"])).toFixed(1)+"%")}}),r.a.createElement(E.a,{name:"Model fitt",cellRenderer:function(e,n){return r.a.createElement(y.a,null,t.getIn([e,"fitt"]).toFixed(2))}}),r.a.createElement(E.a,{name:"Momentum 90",cellRenderer:function(e,n){return r.a.createElement(y.a,null,Math.round(36500*t.getIn([e,"stockPriceMomentum"]))+"%")}}))]}},{key:"openLink",value:function(e){window.open(e.get("borsdataLink"))}}]),t}(r.a.Component),O=n(40),k=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).startDrag=function(t,n){t.preventDefault();var a=function(t){t.preventDefault();var a=e.svg.createSVGPoint();a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(e.svg.getScreenCTM().inverse()),e.setState({points:e.state.points.map((function(e,t){return n===t?{x:Math.max(Math.min(a.x,1e3),0),y:Math.max(Math.min(a.y,1e3),0)}:e}))})};document.addEventListener("mousemove",a),document.addEventListener("mouseup",(function e(t){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",e)}))},e.state={historic:[[100,8,-10],[10,8,-10],[30,-100,15]],projection:[[10,18],[12,10],[-10,10],[10,10*Math.random()]],points:[{x:30,y:900},{x:900,y:900}]},e}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.historic,a=t.projection,i=this.state.points,c=Math.max.apply(Math,[0].concat(Object(O.a)(n.flat()),Object(O.a)(a.flat()))),o=1e3/(c-Math.min.apply(Math,[0].concat(Object(O.a)(n.flat()),Object(O.a)(a.flat())))),u=c*o,l=n.length+a.length,s=(1200-50*l)/l,m=n.concat(a).map((function(e,t){return e.map((function(n,a){return{x:50*t+s*(t+a/e.length),y:n>0?u-n*o:u,width:10,height:Math.abs(n)*o,fill:n>0?"blue":"red"}}))})).flat();return console.log("historicBars",o,m),r.a.createElement("div",null,r.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 ".concat(1200," ").concat(1e3),ref:function(t){return e.svg=t}},m.map((function(e,t){return r.a.createElement("rect",Object.assign({},e,{key:t}))})),r.a.createElement("line",{x1:i[0].x,y1:i[0].y,x2:i[1].x,y2:i[1].y,fill:"transparent",stroke:"gray",strokeWidth:"2",key:"line"}),i.map((function(t,n){return r.a.createElement("g",{transform:"translate(-15, -15)",key:n},r.a.createElement("rect",{x:t.x,y:t.y,key:n,width:"30",height:"30",onMouseDown:function(t){return e.startDrag(t,n)}}))}))))}}]),t}(r.a.Component);k.contextType=x;var M=k;n(51);function w(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e.biasEnd+n*e.slope/2-Math.max(t,0)*a}function I(e,t,n,a){var r=e.toJS(),i=r.avgDividendRatio,c=r.netBrowing,o=r.earnings,u=Math.min(i,.8),l=r[a];if(void 0===l||l.length<t)return NaN;var s=function(e){var t=e.length,n=e.reduce((function(e,t,n){return e+n}),0)/t,a=e.reduce((function(e,t,n){return e+t}),0)/t,r=e.reduce((function(e,t,a){return e+(a-n)*(a-n)}),0),i=e.reduce((function(e,t,n){return e+(t-a)*(t-a)}),0),c=e.reduce((function(e,t,n){return e+n*t}),0)-t*n*a,o=c/r;return{biasStart:a,biasEnd:a-o*n+(t-1)*o,slope:o,std:Math.sqrt(i),fitt:c*c/r/i}}(l.slice(o.length-t,o.length));return{estimate:u*w(s,c,t,n),fitt:s.fitt}}var S=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={selected:"avanza",estimateType:"earnings",minimumFittDynamic:.2,minimumFitt:.2,companiesExternal:Object(g.a)({}),companiesInternal:Object(g.a)({})},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://bofa.github.io/stocks/earnings.json").then((function(t){var n=t.data.reduce((function(e,t,n){return e[t.ShortName]=t,e}),{});e.setState({companiesExternal:Object(g.a)(n)})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.companiesExternal,a=t.companiesInternal,i=t.estimateType,c=t.minimumFitt,o=t.minimumFittDynamic;if(n.size<1)return null;var u=n.filter((function(e){return e.getIn([i])&&e.getIn([i]).size>=5})).map((function(e){var t=I(e,5,0,i),n=t.estimate,a=t.fitt;return e.set("estimate",n/e.get("price")/e.getIn(["numberOfStocks",-1])).set("fitt",a).set("yield",e.getIn(["dividend",-1])/e.getIn(["price"])/e.getIn(["numberOfStocks",-1])).set("pe",e.getIn(["price"])*e.getIn(["numberOfStocks",-1])/e.getIn(["earnings",-1])).set("borsdataLink","https://borsdata.se/".concat(e.get("CountryUrlName"),"/nyckeltal"))})).mergeDeep(a).filter((function(e){return e.get("fitt")>c})).toList();return[r.a.createElement("nav",{class:"bp3-navbar .modifier"},r.a.createElement("div",{class:"bp3-navbar-group bp3-align-left"},r.a.createElement("div",{class:"bp3-navbar-heading"},"Prediction"),r.a.createElement("div",{class:"bp3-select .modifier"},r.a.createElement("select",{value:i,onChange:function(t){return e.setState({estimateType:t.currentTarget.value})}},r.a.createElement("option",{value:"earnings"},"Earnings"),r.a.createElement("option",{value:"revenue"},"Revenue"),r.a.createElement("option",{value:"freeCashFlow"},"Free Cash Flow")))),r.a.createElement("div",{class:"bp3-navbar-group bp3-align-right"},r.a.createElement("div",null,r.a.createElement(v.a,{min:0,max:1,stepSize:.01,labelStepSize:.14,onChange:function(t){return e.setState({minimumFittDynamic:t})},onRelease:function(t){return e.setState({minimumFitt:t})},labelRenderer:function(e){return"".concat(Math.round(100*e),"%")},value:o})))),r.a.createElement(d.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(j,Object.assign({},e,{companies:u}))}}),r.a.createElement(d.a,{path:"/:id",exact:!0,render:function(e){return r.a.createElement(M,Object.assign({},e,{companies:u}))}})]}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},82:function(e,t,n){e.exports=n(120)},91:function(e,t,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.abd7c5d7.chunk.js.map